/*!
 * jQuery Scrollmenu v0.9.1 <https://github.com/cheich/jquery.scrollmenu>
 * Copyright 2014-2015 Christoph Heich <http://christoph-heich.de>
 * Released under the MIT license <https://github.com/cheich/jquery.scrollmenu/blob/master/LICENSE>
 */
!function(e){e.fn.scrollmenu=function(){var t,n,a=e(this),r={},i=0,o=0,d=!1,l=function(t){r=e.extend(!0,{},e.fn.scrollmenu.defaults,t),a.data("scrollmenu",r);var i=e(a.find(r.start).not(r.disableHeaderSelector));n=s(i).addClass(r.menuClass),e(window).scroll(function(){h()}),n.find("a").click(function(e){e.preventDefault(),g(this.hash.substr(1))}),a.data("scrollmenu",{options:r,menu:n})},s=function(t){var n=e("<ul />");return t.each(function(t,a){a=f(e(a));var o=e("<li />");if(o.append(u(e(a))),i<r.depth){var d=r.start.replace(/\d+/,function(e){return parseInt(e)+i+1}),l=a.nextUntil(a[0].tagName,d).not(r.disableHeaderSelector);l.length>0&&(i++,o.append(s(l)),i--)}n.append(o)}),n},u=function(t){var n=e("<a />");return o=0,n.text(t.text()),n.attr("href","#"+t.attr("id")),n},f=function(t){var n=t.attr("id");if("undefined"==typeof n&&(n=t.text().replace(/(\s+)|(#+)/g,function(e,t,n){return t?"-":n?"":void 0}).toLowerCase(),t.data("scrollmenu",{generatedId:n})),!n||e('[id="'+n+'"]').length>1){var a={oldId:n};n=c(n+"-"),a.generatedId=n,t.data("scrollmenu",a)}return t.attr("id",n),t},c=function(t,n){t="undefined"!=typeof t?t:"",n="undefined"!=typeof n?n:"",o++;var a=t+o+n;return e(document.getElementById(a)).length?c(t,n):a},p=function(){var t=!1;return e("[id]").filter(":header").each(function(){return e(this).offset().top<=e(window).scrollTop()+r.offset&&(0===e(this).nextAll("[id]").length||e(this).nextAll("[id]").offset().top>e(window).scrollTop()+r.offset)?(t=e(this).attr("id"),!1):void 0}),t},h=function(){(r.toggleWhileJumping||!d)&&m()},m=function(){var t=p(),a=n.find("li a").filter(function(){return e(this).attr("href")=="#"+t}).parent();a.addClass(r.activeClass);var i=a.parents("li").addClass(r.parentClass);a.add(i).siblings().removeClass(r.activeClass)},g=function(t,n){n="undefined"!=typeof n?n:r.jumpSpeed,d=!0;var a=e(document.getElementById(t)).offset().top;e("html, body").animate({scrollTop:a},n,function(){window.location.hash=t,r.toggleWhileJumping||m(),d=!1})},v={refresh:function(e){v.destroy(),"undefined"==typeof e&&(e=r),l(e)},destroy:function(){e(":header").filter(function(){return!!e(this).data("scrollmenu")}).each(function(){var t=e(this).data("scrollmenu");"generatedId"in t&&t.generatedId==e(this).attr("id")&&("oldId"in t?e(this).attr("id",t.oldId):e(this).removeAttr("id"))}),n.remove()},get:function(){return n}};if("undefined"==typeof a.data("scrollmenu"))l.apply(this,arguments);else if(t=a.data("scrollmenu"),r=t.options,n=t.menu,arguments[0]in v)return v[arguments[0]].apply(this,Array.prototype.slice.call(arguments,1));return a},e.fn.scrollmenu.defaults={start:"h2",depth:2,jumpSpeed:400,offset:0,toggleWhileJumping:!1,disableHeaderSelector:'[data-disable="true"]',activeClass:"active",parentClass:"active",menuClass:"menu"}}(jQuery);
//# sourceMappingURL=jquery.scrollmenu.js.map
