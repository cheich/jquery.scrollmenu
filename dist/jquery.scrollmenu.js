/*!
 * jQuery Scrollmenu v0.9.0 <https://github.com/cheich/jquery.scrollmenu>
 * Copyright 2014-2015 Christoph Heich <http://christoph-heich.de>
 * Released under the MIT license <https://github.com/cheich/jquery.scrollmenu/blob/master/LICENSE>
 */
!function(t){t.fn.scrollmenu=function(){var e,n=t(this),a={},r=0,i=!1,o=function(r){a=t.extend(!0,{},t.fn.scrollmenu.defaults,r),n.data("scrollmenu",a);var i=t(n.find(a.start).not(a.disableHeaderSelector));e=d(i).addClass(a.menuClass),t(window).scroll(function(){c()}),e.find("a").click(function(t){t.preventDefault(),h(this.hash.substr(1))}),n.data("scrollmenu",{options:a,menu:e})},d=function(e){var n=t("<ul />");return e.each(function(e,i){i=s(t(i));var o=t("<li />");if(o.append(l(t(i))),r<a.depth){var u=a.start.replace(/\d+/,function(t){return parseInt(t)+r+1}),f=i.nextUntil(i[0].tagName,u).not(a.disableHeaderSelector);f.length>0&&(r++,o.append(d(f)),r--)}n.append(o)}),n},l=function(e){var n=t("<a />");return n.text(e.text()),n.attr("href","#"+e.attr("id")),n},s=function(e){var n=e.attr("id");if("undefined"==typeof n){var n=e.text().replace(/(\s+)|(#+)/g,function(t,e,n){return e?"-":n?"":void 0}).toLowerCase();e.data("scrollmenu",{generatedId:n})}if(!n||t(document.getElementById(n)).length){var a={oldId:n};n=u(n+"-"),a.generatedId=n,e.data("scrollmenu",a)}return e.attr("id",n),e},u=function(e,n){e="undefined"!=typeof e?e:"",n="undefined"!=typeof e?e:"";var a=Math.floor(26*Math.random())+Date.now();return t(document.getElementById(a)).length?u(e,n):e+a+n},f=function(){var e=!1;return t("[id]").filter(":header").each(function(){return t(this).offset().top<=t(window).scrollTop()+a.offset&&(0==t(this).nextAll("[id]").length||t(this).nextAll("[id]").offset().top>t(window).scrollTop()+a.offset)?(e=t(this).attr("id"),!1):void 0}),e},c=function(){(a.toggleWhileJumping||!i)&&p()},p=function(){var n=f(),r=e.find("li a").filter(function(){return t(this).attr("href")=="#"+n}).parent();r.addClass(a.activeClass);var i=r.parents("li").addClass(a.parentClass);r.add(i).siblings().removeClass(a.activeClass)},h=function(e,n){n="undefined"!=typeof n?n:a.jumpSpeed,i=!0;var r=t(document.getElementById(e)).offset().top;t("html, body").animate({scrollTop:r},n,function(){window.location.hash=e,a.toggleWhileJumping||p(),i=!1})},m={refresh:function(t){m.destroy(),"undefined"==typeof t&&(t=a),o(t)},destroy:function(){t(":header").filter(function(){return!!t(this).data("scrollmenu")}).each(function(){var e=t(this).data("scrollmenu");"generatedId"in e&&e.generatedId==t(this).attr("id")&&("oldId"in e?t(this).attr("id",e.oldId):t(this).removeAttr("id"))}),e.remove()},get:function(){return e}};if("undefined"==typeof n.data("scrollmenu"))o.apply(this,arguments);else if(data=n.data("scrollmenu"),a=data.options,e=data.menu,arguments[0]in m)return m[arguments[0]].apply(this,Array.prototype.slice.call(arguments,1));return n},t.fn.scrollmenu.defaults={start:"h2",depth:2,jumpSpeed:400,offset:0,toggleWhileJumping:!1,disableHeaderSelector:'[data-disable="true"]',activeClass:"active",parentClass:"active",menuClass:"menu"}}(jQuery);
//# sourceMappingURL=jquery.scrollmenu.js.map
